<!doctype html>
<html lang="en">
	<head>
		<meta charset="utf-8" />
		<link rel="icon" href="%sveltekit.assets%/favicon.png" />
		<meta name="viewport" content="width=device-width, initial-scale=1" />
		
		<!-- Add the title element here -->
		<title>CSDS</title>
		
		<!-- SEO Meta Tags -->
		<meta name="description" content="Comprehensive IT services and custom software development to transform your business. From 24/7 managed support to tailored solutions that drive growth." />
		<meta name="keywords" content="managed IT services, custom software development, business applications, IT consulting, network security, cloud solutions, system integration" />
		<meta name="author" content="CSDS" />
		
		<!-- Open Graph / Facebook -->
		<meta property="og:type" content="website" />
		<meta property="og:url" content="https://csdsinc.net/" />
		<meta property="og:title" content="CSDS - IT Services & Custom Development" />
		<meta property="og:description" content="Transform your business with expert IT services and custom software development. 24/7 support and solutions built for your success." />
		<meta property="og:image" content="https://csdsinc.net/logo-r-min.avif" />

		<!-- Analytics Scripts -->
		<script>
			function initializeAnalytics() {
				const preferences = localStorage.getItem('cookie-preferences');
				if (!preferences || !JSON.parse(preferences).analytics) {
					return;
				}

				// Get the current domain
				const domain = window.location.hostname;
				const isProduction = domain === 'csdsinc.net' || domain === 'www.csdsinc.net';

				if (isProduction && !window.gtag) {
					window.dataLayer = window.dataLayer || [];
					window.gtag = function(){dataLayer.push(arguments);}
					
					const gaScript = document.createElement('script');
					gaScript.src = 'https://www.googletagmanager.com/gtag/js?id=G-B07QT9XZBS';
					gaScript.async = true;
					document.head.appendChild(gaScript);
					
					gaScript.onload = function() {
						window.gtag('js', new Date());
						window.gtag('config', 'G-B07QT9XZBS', {
							cookie_domain: domain,
							cookie_flags: 'SameSite=Strict;Secure',
							cookie_update: false,
							first_party_collection: true
						});
					};
				}

				if (isProduction && !window.clarity) {
					window.clarity = function(){(window.clarity.q=window.clarity.q||[]).push(arguments)};
					const clarityScript = document.createElement('script');
					clarityScript.src = "https://www.clarity.ms/tag/p79o0bbni0";
					clarityScript.async = true;
					clarityScript.onerror = function() {
						console.warn('Clarity failed to load');
					};
					document.head.appendChild(clarityScript);
				}
			}
		</script>

		<!-- Cloudflare Turnstile (always loaded as it's necessary) -->
		<script src="https://challenges.cloudflare.com/turnstile/v0/api.js" async defer></script>

		%sveltekit.head%
	</head>
	<body data-sveltekit-preload-data="hover">
		<div style="display: contents">%sveltekit.body%</div>
	</body>
</html>
